# TikTok Bot – Launch & Usage Notes

## 🔹 Development Commands

### Start the full app (recommended)
Runs **Vite (frontend)** + **Electron (backend)** together.
npm start
- Opens the Electron window with your React UI.
- Connects to TikTok (main.js runs).
- Plays sounds & TTS when events happen.

---

### Run only the frontend (UI only, no TikTok)
Useful if you just want to test the **React interface**.
npm run dev
- Starts Vite dev server at http://localhost:5173
- Opens in your browser.
- **Does not** connect to TikTok or play sounds (Electron isn’t running).

---

### Run only Electron
Launches the Electron shell without waiting for Vite.
npm run electron
- If Vite isn’t already running → you’ll see a blank Electron screen.
- If Vite is running at localhost:5173 → it will load your app UI.
- Mainly used for debugging.

---

## 🔹 Typical Workflow
1. Edit code in React (App.jsx) or backend (main.js).
2. Run:
   npm start
3. Wait until the Electron window shows.
4. Start a TikTok livestream from the account set in main.js.
   const tiktok = new TikTokLiveConnection("your-username");
5. Confirm app status:
   - 🟢 Connected → bot is live.
   - 🔴 Disconnected → not live / username wrong.
6. Test buttons in the UI to confirm sound & TTS.

---

## 🔹 Where things run
- Electron / main.js → Connects to TikTok, plays sounds, runs TTS.
- Vite / React frontend → Displays UI (status bar, logs, test buttons).
- Sounds → Must be in sounds/ folder at project root, e.g.:
  project-root/
    main.js
    preload.js
    sounds/
      like.mp3
      follow.mp3
      small-gift.mp3
      big-gift.mp3
      multi-gift.mp3

---

## 🔹 Quick Debug Checklist
- If UI loads but no TikTok events → check username in main.js.
- If no sounds play → confirm sounds/ folder exists at root.
- If no speech → check Windows PowerShell TTS is available.
- If Electron shows blank → make sure you started with npm start (not just npm run electron).

---

## 🔹 Git Commands (Project Workflow)

### Initial setup
git init
git add .
git commit -m "Initial commit - TikTok bot"
git branch -M main
git remote add origin <your-repo-url>
git push -u origin main

### Everyday workflow
git status
git add .
git commit -m "Describe your changes here"
git push
git pull

### Branching workflow
git checkout -b feature/sound-queue
git checkout main
git merge feature/sound-queue
git branch -d feature/sound-queue

### Reset / rollback if needed
git reset --hard
git reset --soft HEAD~1
git reset --hard HEAD~1

---

### 🔹 Troubleshooting Git

#### Undo a specific file before commit
git checkout -- filename

#### Discard all local changes (dangerous)
git reset --hard

#### Merge conflicts
- Git will mark conflict areas in files with >>>>>> and <<<<<<
- Manually edit files to keep what you want
- Then run:
  git add .
  git commit -m "Resolved merge conflict"

#### Abort a merge if too messy
git merge --abort

#### Detached HEAD fix
- If you checked out a commit directly:
  git checkout main
- If you want to keep changes:
  git checkout -b new-branch

#### See commit history
git log --oneline --graph --all --decorate

#### Revert a commit safely (creates a new commit)
git revert <commit-id>

#### Stash work (save without committing)
git stash
git pull
git stash pop

#### Delete local branch
git branch -d branch-name

#### Delete remote branch
git push origin --delete branch-name

---

## 🔹 Packaging into a Windows .exe
1. Install electron-builder:
   npm install --save-dev electron-builder
2. Add build script to package.json:
   "scripts": {
     "build": "vite build",
     "dist": "electron-builder"
   }
3. Add config:
   "build": {
     "appId": "com.tiktok.bot",
     "productName": "TikTok Bot",
     "directories": { "output": "release" },
     "files": [
       "dist/**/*",
       "main.js",
       "preload.js",
       "sounds/**/*",
       "package.json"
     ],
     "win": {
       "target": "nsis",
       "icon": "icon.ico"
     }
   }
4. Run:
   npm run dist
5. .exe appears in release/.

---

## 🔹 Packaging into a Mac .app (DMG)
1. Update package.json build config:
   "build": {
     "appId": "com.tiktok.bot",
     "productName": "TikTok Bot",
     "directories": { "output": "release" },
     "files": [
       "dist/**/*",
       "main.js",
       "preload.js",
       "sounds/**/*",
       "package.json"
     ],
     "mac": {
       "target": "dmg",
       "icon": "icon.icns"
     }
   }
2. Run:
   npm run dist
3. .dmg appears in release/.

⚠️ Must build on Mac for Mac output (cannot cross-compile from Windows).

---

## 🔹 npm Commands (General Reference)
npm install
npm install package-name
npm install --save-dev package-name
npm uninstall package-name
npm update

---

# TikTok Bot Notes

## Future Improvements
- Prevent overlapping sounds (queue sounds so they play sequentially)
- Toggle between male and female TTS voice
- Add UI indicators for event type (like/follow/gift)
- Option to change TikTok username from the app UI
